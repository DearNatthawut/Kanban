<!-- Item template -->

<!--                                       Admin-->
<div as-sortable-item-handle
     ng-show="(self.DataMember.user.Level_id == 1 || self.DataMember.user.id == self.DataMember.board.manager_id )&&
                    self.DataMember.board.status_complete != 1">


    <div class="row">
        <div class="col-sm-10">
            <!--<span class="btn-link"><a data-no-drag target=_top href="https://github.com/a5hik/ng-sortable">test no-drag href</a></span>-->

            <!--  Color -->
            <span class="label" style="background-color: whitesmoke; border: solid;width:42px"
                  ng-show="card.color.name == 'whitesmoke'">   </span>

            <span class="label" style="background-color: red;border: solid"
                  ng-show="card.color.name == 'red'">   </span>

            <span class="label" style="background-color: yellow;border: solid"
                  ng-show="card.color.name == 'yellow'">   </span>

            <span class="label" style="background-color: green;border: solid"
                  ng-show="card.color.name == 'green'">   </span>

            <span class="label" style="background-color: blue;border: solid"
                  ng-show="card.color.name == 'blue'">   </span>

            <span class="label" style="background-color: orange;border: solid"
                  ng-show="card.color.name == 'orange'">   </span>


            <!-- High Priority -->
            <span class="glyphicon glyphicon-star card-icon" style="color: gold;"
                  ng-show="card.priority_id == 2"></span>

            <!-- edit -->
             <span class="label label-default card-icon"  ng-show="card.type_id == 2   ">
                 <span class="glyphicon glyphicon-edit " ></span> {{(card.comments | filter:"(แก้ไข").length }}</span>

            <!-- Time -->
             <span class="label label-danger card-icon" ng-show="self.isOvertime(card.estimate_end,self.date)">
                 <span class="glyphicon glyphicon-time"></span> Over time  </span>

            <!--General -->
            <span class="card-title">{{card.name }}</span>
            <!--<hr ng-show="card.pre_card.name != null">-->
            <span class="card-title" ng-show="card.pre_card.name != null">Pre Card :  {{card.pre_card.name}} </span>

        </div>

        <div class="col-sm-2">
            <a data-no-drag class=" removeCard pull-right btn btn-xs" ng-click="self.detailCard(card)">
                <span class="glyphicon  glyphicon-cog"></span></a>
        </div>

        <div class="col-sm-2">
            <a data-no-drag class=" removeCard pull-right btn btn-xs" ng-click="self.removeCard(column, card)"
               ng-show="self.DataMember.user.Level_id == 1 || self.DataMember.user.id == self.DataMember.board.manager_id">
                <span class="glyphicon glyphicon-remove"></span></a>
        </div>
    </div>


</div>


<!--  manager Card-->
<div as-sortable-item-handle ng-show="(self.DataMember.user.Level_id == 2 && self.DataMember.user.id == card.member_card.member.id
     && self.DataMember.user.id != self.DataMember.board.manager_id) && self.DataMember.board.status_complete != 1">


    <div class="row">

        <div class="col-sm-10">
            <!--<span class="btn-link"><a data-no-drag target=_top href="https://github.com/a5hik/ng-sortable">test no-drag href</a></span>-->
            <!--  Color -->
            <span class="label" style="background-color: whitesmoke; border: solid"
                  ng-show="card.color.name == 'whitesmoke'">   </span>

            <span class="label" style="background-color: red;border: solid"
                  ng-show="card.color.name == 'red'">   </span>

            <span class="label" style="background-color: yellow;border: solid"
                  ng-show="card.color.name == 'yellow'">   </span>

            <span class="label" style="background-color: green;border: solid"
                  ng-show="card.color.name == 'green'">   </span>

            <span class="label" style="background-color: blue;border: solid"
                  ng-show="card.color.name == 'blue'">   </span>

            <span class="label" style="background-color: orange;border: solid"
                  ng-show="card.color.name == 'orange'">   </span>

            <!-- High Priority -->
            <span class="glyphicon glyphicon-star card-icon" style="color: gold;"
                  ng-show="card.priority_id == 2"></span>

            <!-- edit -->
            <span class="glyphicon glyphicon-edit card-icon" ng-show="card.type_id == 2"></span>

            <!-- Time -->
             <span class="label label-danger card-icon" ng-show="self.isOvertime(card.estimate_end,self.date)">
                 <span class="glyphicon glyphicon-time"></span> Over time  </span>

            <!--General -->
            <span class="card-title">Name : {{card.name }}</span>
            <hr ng-show="card.pre_card.name != null">
            <span class="card-title" ng-show="card.pre_card.name != null">Pre Card :  {{card.pre_card.name}} </span>


        </div>

        <div class="col-sm-2">
            <a data-no-drag class=" removeCard pull-right btn btn-xs" ng-click="self.detailCard(card)">
                <span class="glyphicon  glyphicon-cog"></span></a>
        </div>

        <div class="col-sm-2">
            <a data-no-drag class=" removeCard pull-right btn btn-xs" ng-click="self.removeCard(column, card)"
               ng-show="self.DataMember.user.Level_id == 1 || self.DataMember.user.id == self.DataMember.board.manager_id">
                <span class="glyphicon glyphicon-remove"></span></a>

        </div>

    </div>


</div>


<!--  member -->
<div ng-show="self.DataMember.user.Level_id == 2 && self.DataMember.user.id != card.member_card.member.id &&  self.DataMember.user.id != self.DataMember.board.manager_id
|| self.DataMember.board.status_complete == 1">


    <div class="row">
        <div class="col-sm-10">
            <!--  Color -->
            <span class="label" style="background-color: whitesmoke; border: solid"
                  ng-show="card.color.name == 'whitesmoke'">   </span>

            <span class="label" style="background-color: red;border: solid"
                  ng-show="card.color.name == 'red'">   </span>

            <span class="label" style="background-color: yellow;border: solid"
                  ng-show="card.color.name == 'yellow'">   </span>

            <span class="label" style="background-color: green;border: solid"
                  ng-show="card.color.name == 'green'">   </span>

            <span class="label" style="background-color: blue;border: solid"
                  ng-show="card.color.name == 'blue'">   </span>

            <span class="label" style="background-color: orange;border: solid"
                  ng-show="card.color.name == 'orange'">   </span>


            <!-- High Priority -->
            <span class="glyphicon glyphicon-star card-icon" style="color: gold;"
                  ng-show="card.priority_id == 2"></span>

            <!-- edit -->
            <span class="glyphicon glyphicon-edit card-icon" ng-show="card.type_id == 2"></span>

            <!-- Time -->
             <span class="label label-danger card-icon" ng-show="self.isOvertime(card.estimate_end,self.date)">
                 <span class="glyphicon glyphicon-time"></span> Over time  </span>

            <!--General -->
            <span class="card-title">Name : {{card.name }}</span>
            <hr ng-show="card.pre_card.name != null">
            <span class="card-title" ng-show="card.pre_card.name != null">Pre Card :  {{card.pre_card.name}} </span>


        </div>
        <div class="col-sm-2">
            <a data-no-drag class=" removeCard pull-right btn btn-xs" ng-click="self.detailCard(card)">
                <span class="glyphicon  glyphicon-cog"></span></a>
        </div>
        <div class="col-sm-2">
            <a data-no-drag class=" removeCard pull-right btn btn-xs" ng-click="self.removeCard(column, card)"
               ng-show="self.DataMember.user.Level_id == 1 || self.DataMember.user.id == self.DataMember.board.manager_id">
                <span class="glyphicon glyphicon-remove"></span></a>
        </div>
    </div>


</div>
